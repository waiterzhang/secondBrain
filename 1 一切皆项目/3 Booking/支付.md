# 支付

1、订单状态匹配

> 预付中：在APP中需要付钱的都展示待支付，需要支付“信用”的都展示待授权。信用卡担保展示待担保
>
> ‍

* START、CONFIRMING、NEW_ORDER状态下：

  * 如果是预付（paytype = online）：

    * 非信用住 && 非先住后付 = 支付中。  
      信用住、先住后付的判断基本来自于订单的报价数据。
    * 信用支付未授权 = 待授权。  
      信用支付是否授权来自于订单的parent-order中的authStatus：  
      ​![image](image-20240829164253-tu3u9ol.png)​
    * 如果是需要担保（来自订单报价的`orderProductControlInfo`​信息）

      * 如果在`orderExtension`​的-tracekData中找到`creditGuarantee`​为true的记录，则仍为待支付。
      * 如果是信用未授权=待授权
    * 如果是需要信用卡信息：

      * 如果有信用卡key，则展示待担保
  * REJECT：

    * 拒单转新单，新单未确认原单仍展示待确认。
  * CONFIRMED：

    * 有确认的tag则转已入住，否则是预订成功。
  * CANCELLED：

    * ‍

  

‍
