# 权益云餐食选中逻辑

报价有餐食，权益餐食不默勾。

一些其他情况也不会进行默勾：

* 用户点击过
* 有辅营餐食

默勾逻辑，针对免费兑换进行默选：

* 用户最大可选份数收到：库存、用户积分、最大可选中数量限制、每间夜可选中数量限制

  > ```undefined
  > {
  >     "promotionCode": "FREE_BREAKFAST",
  >     "promotionType": "SUBTRACT",
  >     "categoryId": "9050",
  >     "couponId": "676277373987",
  >     "title": "早餐",
  >     "stock": 99999,
  >     "benefitPattern": 7,
  >     "functionType": 2,
  >
  >
  >
  >     // 餐食选项
  >     "options": [
  >         {
  >             // 当前选中数量
  >             "num": 0,
  >             // 最大可选中数量
  >             "maxNum": 0,
  >             "title": "2024.05.17至2024.05.18"
  >         }
  >     ],
  >     "totalPoint": 0,
  >     // 是否置灰 lua处理
  >     "gray": false,
  >     // 是否选中 lua处理
  >     "select": false,
  >     // 是否隐藏 lua处理
  >     "disable": false,
  >     // 选中的总数量
  >     "num": 0,
  >     "unit": "积分",
  >     "tips": "",
  >     "explainText": "每份价值¥20",
  >     "explainText1": "每份价值{PRICE_VAL}",
  >     "calcType": "{RIGHT_COUNT}份",
  >     "secondaryTitle": "黄金会员权益",
  >     "discountDesc": "下单好礼1份",
  >     "strikethroughPoint": 10,
  >     // 积分价值规则
  >     "rules": [
  >         {
  >             // 该选项代表：需花费0积分的库存1份
  >             "upper": 1,
  >             "points": 0
  >         },
  >         {
  >             // 该选项代表：需花费9积分的库存无限
  >             "upper": 99999,
  >             "points": 9
  >         }
  >     ],
  >     // 间夜限制
  >     "roomNights": [
  >         {
  >             "roomNum": 1,
  >             // 间数对应的价格？
  >             "point": 45,
  >             // 该间数最大可选数量
  >             "num": 6,
  >             // 日期对应的可选数量限制
  >             "dailyAmount": [
  >                 {
  >                     "date": "2024-05-18",
  >                     "num": 2
  >                 },
  >                 {
  >                     "date": "2024-05-19",
  >                     "num": 2
  >                 },
  >                 {
  >                     "date": "2024-05-20",
  >                     "num": 2
  >                 }
  >             ]
  >         },
  >   
  >     ],
  >     "label": [
  >         {
  >             "title": "早餐",
  >             "desc": "可使用积分兑换免费早餐，可叠加使用",
  >             "iconFont": 0
  >         }
  >     ],
  >     "nigntPrice": 20,
  >     "pointCostPerUnit": 0,
  >     "maxNight": 0,
  >     "pricePerUnit": 0,
  >     "freePoint": false
  > }
  > ```
  >
