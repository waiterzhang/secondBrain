# 配置

### 几个重要的配置标签

\<**registry&gt;**

注册中心配置。

* address：必填。注册中心服务器地址，如果地址没有端口缺省为9090，同一集群内的多个地址用逗号分隔，如：ip:port,ip:port，不同集群的注册中心，请配置多个[dubbo:registry](dubbo:registry)标签。
* protocol：可选。注册中心地址协议，支持`dubbo`​, `multicast`​, `zookeeper`​, `redis`​。
* check：可选。注册中心不存在时，是否报错。
* group：可选。服务注册分组，跨组的服务不会相互影响，也无法相互调用，适用于环境隔离。
* id：可选，配置中心注册的BeanId，可以在<dubbo:service registry="">或<dubbo:reference registry="">中引用此ID

<**service&gt;**

服务提供者暴露服务配置。

* interface：必填。服务接口名。
* ref：必填。服务接口实现类的引用。例如：

  ```
  <!-- Wechat Payment Service Provider -->  
  <dubbo:service interface="com.example.PaymentService" ref="wechatPaymentService" group="wechat" />  
    
  <!-- Bean定义 -->  
  <bean id="wechatPaymentService" class="com.example.impl.WechatPaymentServiceImpl" />
  ```

* group：可选。服务分组，当一个接口有多个实现的时候，可以使用分组区分。

<**reference&gt;**

服务消费者**引用**服务配置。

* id：必填。服务引用BeanID（这个id指的是Spring容器中bean的id，和服务提供方没啥关系）；
* interface：必填。服务接口名；
* group：可选。服务分组，当一个接口有多个实现，可以使用分组区分，必须与服务提供方一致。

### 问题

* 每个标签都有group，group是什么意思？他们各自有什么关系？  
  上述三个标签中的group基本含义都一致，为了实现服务的分组和隔离。

  * 注册中心的group，指定一个具体的组，这个group只是划定一个范围，但是这个范围里面可以没有服务的消费者和生产者。
  * service和reference，即生产者和消费者的group两者关系更为紧密。两者均为在某一个group 中注册/寻找服务，两者必须是一一对应的。
  * 通常来讲，三个标签里面的group都应该被明确的指定（虽然group标签是可选的），且有对应关系。
  * 三个标签中如果没有指定group，那么会进入默认的（空字符串group。
* 如果注册中心指定了group，消费者引用了该注册中心，那么注册中心指定的group对消费者有影响吗？

‍
