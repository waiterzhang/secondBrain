# 转正答辩

## 自我介绍

各位评委老师，大家好，我是：

* 张威特-27岁-浙江理工大学-计算机硕士
* 三个月中主要负责booking值班（处理工单、业务巡检），以及针对booking（主要）、medusa的简单需求开发。工作中涉及的主要关联方主要是前端、报价、spa；

## 主要工作：

下面我将来介绍一下我进入业务线三个月以来的主要工作，并会详细介绍其中的一些重要工作。

首先，经过这段时间在工作中的感受于观察，发现booking以及主站因其自身业务特性所具有特点：

* 直接与前端交互。用户与主站之间的相互感知度高，这也导致我们会直接对用户的体验负责。
* 故障容忍度低。作为后端服务的门户，我们的故障影响范围也非常大，例如进订、下单如果故障，会造成最直接的订单损失。
* 所依赖的业务广且复杂。作为前端的适配层，我们负责屏蔽后端各个服务之间的细节。

所以我这三个月的时间里，我工作的主要内容与这些特性息息相关：

​![image](image-20231208173710-juqi1i9.png)​

* 首先是直接与前端交互，而且是客户的下单行为，因此客户对于BPO页中中有任何疑义，首先找到的负责人都会是booking。因此值班是这三个月中最重要的部分，共计12周的时间，其中有7周在值班。而值班中花费时间最多的部分就是处理客诉类型的工单。进入业务线以后，一共处理工单问题95个，其中82个客诉工单，13个咨询类工单。输出客诉工单case排查记录34篇，针对客诉类工单，为了提高排查效率形成自己标准化的处理流程，并输出wiki做组内分享。后面会详细介绍这一部分。18 + 6

‍

​![image](image-20231225164423-m5aldn0.png)​

‍

​![image](image-20231225170316-ugmpnz4.png)​

‍

* 故障容忍度低。因此值班另外一个重要工作就是巡检，当前booking系统会每天两次进行巡检，排查巡检过程中的每一个指标。在这个过程中，除了监控booking系统内部健康以外，还会关注业务相关方的波动，及时明确波动原因。在巡检过程中，共计排查了x个问题。其中还包括外部系统长期存在的下单后无法退款bug。
* 其次就是需求开发，一个完成7个（截至12.10）需求开发。

下面我将针对客诉类工单处理这个重要场景，从问题背景及要达成的业务目标、解决办法、成果这三个方面分享一下我在这段时间内的理解 **：**

**问题背景及目标**

客诉类工单首先你最终面对的是一个急切想要维护自己权利的客户，投诉说明已经严重的影响客户体验了。因此针对这个情况要求我们必须要要给出一个准确的答案，而且还要快，尽快的给出正确的答案，安抚住客户才能够最大化的减小公司损失。因此，两个要点

* 准确
* 高效。

客诉工单处理的过程中，我们通常我们通过工具拿到用户当时看到的内容原始报文，根据这些原始报文还原用户下单当时的场景。所以遇到了第一个问题，booking所依赖的第三方业务非常多，因此给前端的原始报文本身非常复杂，如何将各个字段准确的和用户当时看到的场景对应起来？以比较简单的订单详情OrderDetail接口最后返回给前端的接口为例：

* 叶子节点的字段超过700个（进订超过2000个），数量非常大。
* 其次，经过这么多年的迭代，有很多字段还在但是其中已经被废弃。例如OrderDetailResult.studentTip这个学生专享提示仍然存在但已经不使用，真正控制学生专享的提示在订房必读里面去了。

* 最后，前端取数有业务逻辑，并不意味这传给前端前端就展示。例如浮标，浮标本身有优先级，后端会传一个浮标的list给前端，前端会使用第一个（也就是优先级最高的进行展示），所以在处理工单的时候并非后端返回了对应的字段就代表客户看到了对应的内容。

所以如何将这些报文中的字段与真正的业务含义对应起来，是第一个要解决的问题。其次，如何是如何快速高效的完成这些客诉工单的处理？面对这个问题，我做了以下工作：

**解决办法**

首先是回答第一个问题：后端返回如此之多的字段，如何将原始报文的字段与真正的业务含义对应。针对客诉这个场景，并不是每一个字段都同等重要，最重要的内容是客户能看到的内容，因此前端所展示的字段才是在这个场景下面最该关心的字段。

以进订为例，针对这个问题，我将前端绝大部分展示的内容逐个列出来，在前端页面上直接标注后端所使用的字段，做成一个可供查询的表。之所以说“绝大部分”是因为B页并非所有的内容都来自于booking，<u>例如入住人信息并不来自于booking，前端首先会看本地缓存中是否有入住人信息，如果没有入住人信息则向用户中心查找，或者你之前下过单则采取上一次下单填写的内容作为本次的入住人信息（要确认一下）</u>。因此入住人信息并没有在图中标明。

有了这个图就可以很方便的在值班过程中查找到客户看到的以及它关联的后端原始报文的字段。

​​![image](image-20231210161428-td3qlq2.png)​​

只有这个图是远远不够的，因为前端的页面并非只有写死的内容进行展示，还有大量的展示逻辑：

* 例如价格，就是根据房费+减+返三部分计算的。这些内容很多时候你是没有办法在后端报文中看到的，但是客户会看到。这也就是说后端返回的报文中没有直接给出不代表用户就看不到。
* 同时前端还有自己的取数逻辑，例如O页浮标后端会根据优先级返回一个List，前端拿到这个List之后会取List中的首个元素。其它元素就不会展示了。这也意味着后端返回的报文中有，不代表前端用户真的看得到。

因此处理这些具有展示逻辑的内容需要综合判断业务场景，才能判断用户当时的状态是什么样子？解决这个问题比较复杂，也没有什么特别好的办法。只能多问，针对这些内容除了询问组内的同事以外，还得到了组外的大量帮助。例如前端，在可查的记录里面，一共提了13个类似问题的工单给前端。

如果只是停留在展示层还远远不够，因为客户下单是一个动态的过程。在这个过程中会记录大量的日志，除了booking自己的日志，还会帮助前端记录日志（例如feMonitor的内容），而且记得很多。客户从打开APP到最终下单会产生一个很长的时间轴。时间轴上的节点很多很冗杂、同时有些关键信息booking系统自己的日志里面又没有，例如submit下单之后的很多步骤。

因此如何从大量的日志中找出最核心的日志，最后再通过这些日志还原成当时用户的操作也很棘手。

面对“重复单”问题这个相当多的客诉内容，booking本身是有重复单拦截的，为了搞清楚这个问题自己在下面做了很多学习，使用两台手机一台录像、一台操作app，记录下来每一秒钟的操作然后再根据时间点去后台查日志，查看对应的前端操作会产生哪些请求？

​![image](image-20231208155828-bg9jq88.png)​

以客户进订后为例，点击报价会产生booking这个url的请求，我们解析进订的参数以及拉取大量的三方信息组装进订的返回参数给前端。

会客户在点击提交之后booking会做大量的检查、例如重复单、变价检查这些内容，通过后会向交易下单，同时前端调起收银台，待客户支付完成之后会由支付中心给回调的信号，将前端再去跳转到指定的页面，此时会访问finish这个接口，跳到p页。

而且在线付和先住后付也有区别，先住后付多了授权，会有访问authcheck这个接口的访问。可以看到，客户在前端只需要点击提交然后输密码这两个步骤，后端会进行大量的操作。因此了解了这些内容才能在海量的日志里面找到核心的请求，并通过这些请求还原客户当时的行为，给出准确的答案。

**能给出准确的答案仍然不够，还需要尽快的给出准确答案。**

客诉工单处理有比较高的时效性要求，因为客人很急迫，每多等一分钟都有可能引起老客户的流失。在值班的初期，一天时间最多只能处理4个客诉工单，这个速度还远远不够。因此，在值班一段时间之后，总结归纳自己处理的内容，形成自己的“SOP“。

客诉工单非常的杂，经过一段时间的值班我将客诉工单归纳为以下四类，这种分类方法可以概括我处理工单里90%以上的内容：

​![image](image-20231208160019-90r9ulm.png)​

‍

‍

* 信息展示类  
  信息展示类的重点在于客户操作每一步所展示的信息；

  * 简单的信息展示，例如是否可接待外宾；  
    信息展示类给出结论的重点在于每一步显示的内容，例如进订、提交、订单详情页所展示的内容，简单信息展示这一类最好解决。
  * 复杂信息展示，如价格；  
    复杂的信息展示类，要在上面的基础上查看更多的内容，例如变价。进订的价格需要手动计算，例如  
    ​![image](image-20231208160037-7w3hvro.png)  
    价格 = 房费 + 优惠 + 权益云
* 用户行为类  
  用户行为类的重点是用户每一步的动作；

  * 是否操作过（主要是取消）  
    取消是非常常见的一类， 通常诉求都是用户在xxx时候申请过取消。

    * 对于取消类客诉通常首先确定该订单的取消规则，因为大部分当前可以免费取消的客户都不会来投诉；
    * 在看是否取消过。订单详情页返回的内容来确定新老流程，老流程（NotGoApplyCancel为true）看orderCancel是否申请过，新流程（schema不为空 或者取消按钮带有跳转url）交给客服。

    ​![image](image-20231208160044-2i777wh.png)​
  * 非预期操作

    * 重复下单；  
      梳理时间线：  
      ​![image](image-20231208160050-h8pqqaf.png)​

      * 重复单首先判断这两单是否是重复单（看userid、入离时间是否重合）；
      * 再看是否给出了重复单的提示；大部分都是因为提交了两单都不支付，随后都支付造成的重复单，少部分是客户忽略重复单提醒继续下单。
    * 选错日期、房型等  
      同上；

**上面是值班过程中一些重点工作的详细介绍。下面总结一下这段时间内的工作以及收获；**

* 进入业务线以后，一共处理工单问题95个。其中82个客诉工单，13个咨询类工单。在此过程中：输出工单case排查记录34篇；从中总结业务学习wiki24篇。目前可以独立值班解决客诉问题，在这个过程中熟悉了支付业务与酒店主站非核心的业务，并了解周边系统的基本情况；
* 通过对监控、报警、日志问题的巡查，掌握系统健康程度的感知途径与方法（曾在巡检还发现了一个外部系统长期以来存在的无法退款bug）。在这个过程中，学习公司内部工具，可以熟练使用以下工具：watcher的使用；op工具、qta订单工具、qta开发工具、qtrace、qconfig、hulk、goldeye、heimadall、溯源等工具的配合使用。能对线上问题快速反应并采取合适的处置措施。

* 负责了7个需求的开发。在这个过程中熟悉完整的需求沟通、开发、测试、发布全流程。总结开发、发布相关心得wiki 3篇。目前能够完成一般规模（工时3~5pd）的需求开发任务，并能够独立完成项目上线；
* 此外：

  * 仍然保持对于技术的学习，在进入业务线以后输出相关wiki11篇；
  * 组内分享进行过两次；

‍

## 未来规划

||技术|业务|
| --| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|**短期（1~2年）**|* 熟练使用组内常用开发组件，并了解其优缺点，能够在日常开发中规避其绝大部分陷阱。<br />* 持续学习代码设计中的优秀理念，并将其运用到生产实践中。感受这些优秀理念的优点、缺点、适用的场景，输出经过全面考虑、取舍皆有合理性的代码。<br />|* 熟悉booking中的大部分业务特性，能够快速进入需求开发，并能够识别出产品需求中的优缺点，提出合理建议。<br />* 熟练进行跨团队的业务合作，能够准确定位项目卡点，快速协调各方解决问题。|
|**长期（3~5年）**|* 深入理解底层机制。了解Java语言、Jvm的高级特性等，针对业务场景能够熟练运用高级特性的优点，避免其缺点。写出健壮、易维护、高性能的代码。<br />* 开发简单到中等的框架级代码。通过合理的架构设计，解决业务上的难题。|* 对业务具有敏感性。能够发现当前业务中不合理的部分，提出改进方案。同时对业务能够发现业务中可以进行探索的需求点。<br />* 具有跨团队的沟通、协调、组织能力。与短期目标相比，从跨团队的合作者参与者变为组织者。|

‍

‍

‍

要点：

三大块：

* 技术
* 业务
* 系统
* 重点写自己对于整个体系的认识，学到了什么，接下来努力的方向。
* 值班是重点，介绍一下值班的收获，把这些工单归归类，总结一下处理经验，顺势最好能够带出来对于业务、不同系统的认识。
* 多总结一些图片；

‍
