# 2024.6.17周报

### 主要工作

会员互通重构开发，进度75%->100%，目前已经完成开发。本周的主要工作是：

* 完成下单、洲际登录、洲际退出接口开发；
* cr下单环节+洲际接口的代码，并根据cr意见修改。

一些问题：

* 洲际账号操作后会触发重新进订，前端要求局部刷新授权模块。方案已否，为了数据正确性，要求全量刷新。
* 对于进订和下单环节的异常处理，有了一些章法，但感觉还未得精髓。本周组内cr，请大家再多看看这部分。
* 需求中授权填写项有固定位置，后端给的是List且未保证顺序，对前端使用来讲会造成性能浪费。还要再评估一下给前端填写项的形式。
* 异步方法，了解还不是特别透彻，本周再看看源码。

### 下周工作

* 自测。预计1PD做mock数据，0.5pd进行cr，3.5pd自测。

### 思考

1、独自重构一块业务，开发完成之后，对于这块业务如何做到可维护、好拓展？一些想法：

* 可维护性：

  * 先做加法，再做减法。加法：从进订到下单，预设每一个环节、每个系统都有可能出错，当前的监控和日志需要把每一个环节的输入、输出都覆盖到。再做减法，看哪些环节的日志可以通过上下文**简单推断**得到，然后把这些冗余的内容去掉。太多的内容，容易分不清主次。
* 拓展：

  * 像杰哥一样写出结构清晰、拓展非常强的代码目前来看还差得远。能做到的就是尽量把类放对位置、注释写清楚、危险操作明确标注。
  * 最近读书看到：系统随着时间不断熵增，唯有不断重构才能保持系统的结构健壮，作者呼吁大家勇敢重构、不断重构。听起来似乎也正确，但接触业务代码久了，发现非需求内的代码是能不能动则不动，毕竟每个业务都有自己的含义，一旦漏评估一点，都可能故障。关于这一点，再观察吧。

‍
